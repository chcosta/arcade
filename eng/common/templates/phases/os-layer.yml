parameters:
  agentOs: 'Windows_NT'
  phase: {}

phases:
- template: /eng/common/templates/phases/execute.yml
  parameters:
    phaseName: ${{ parameters.agentOs }}
    phase: 
      queue: ${{ parameters.phase.queue }}
      steps: ${{ parameters.phase.steps }}
      # Windows variables
      ${{ if eq(parameters.agentOs, 'Windows_NT') }}:
        variables:
          scriptExtension: cmd
          engCommonDirectory: eng\common\
          ${{ insert }}: ${{ parameters.phase.variables }}
      # Unix variables
      ${{ if not(eq(parameters.agentOs, 'Windows_NT')) }}:
        variables:
          scriptExtension: sh
          engCommonDirectory: eng/common/
          ${{ insert }}: ${{ parameters.phase.variables }}
