# Template: common-build.yml
#
# Description:
#  Entry template for using common build templates
#  This template passes parameters through to the correct templates for using build infrastructure
#
# Parameters:
#  agentOs - [Windows_NT, Linux, OSX]
#  buildReason - https://docs.microsoft.com/en-us/vsts/build-release/concepts/definitions/build/variables?view=vsts&tabs=batch#buildreason
#  phase - Accepts a fully defined phase, adds variables and passes that phase to os-specific.yml
#    phase:
#      agentOs:
#      queue:
#      steps:
#      variables:

parameters:
  agentOs: ''
  buildReason: ''
  phase: {}

phases:
- template: /eng/common/templates/build-reason-layer.yml
  parameters:
    agentOs: ${{ parameters.agentOs }}
    buildReason: ${{ parameters.buildReason }}
    phase: ${{ parameters.phase }}
