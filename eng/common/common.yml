parameters:
  variables: {}
  _operatingSystem: Windows_NT

phases:
- phase:
  - ${{ if eq(parameters._operatingSystem, 'Windows_NT') }}:
    variables:
      scriptExtension: cmd
      ${{ insert }}: ${{ parameters.variables }}

  - ${{ if not($[variables['_operatingSystem']], 'Windows_NT')) }}:
    queue: 
      parallel: 2
      demands:
        - agent.os -equals Windows_NT
      ${{ insert }}: ${{ parameters.queue }}
