parameters:
  agentOs: Windows_NT
  OfficialBuildId: $(BUILD.BUILDNUMBER)
  queue: {}
  steps: {}
  variables: {}

phases:
- template: /eng/common/vsts-templates/phases/os-specific.yml
  parameters:
    ${{ if eq(parameters.OfficialBuildId, '') }}:
      variables:
        InternalArgs: ''
        ${{ insert }}: ${{ parameters.variables }}
    ${{ if not(eq(parameters.OfficialBuildId, '')) }}:
      variables:
        InternalArgs: /p:PB_PublishBlobFeedKey=$(dotnetfeed-storage-access-key-1)
        ${{ insert }}: ${{ parameters.variables }}
    agentOs: ${{ parameters.agentOs }}
    OfficialBuildId: ${{ parameters.OfficialBuildId }}
    queues: ${{ parameters.queues }}
    steps: ${{ parameters.steps }}
