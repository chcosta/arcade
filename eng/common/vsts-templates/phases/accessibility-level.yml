parameters:
  agentOs: Windows_NT
  OfficialBuildId: ''
  queue: {}
  steps: {}
  variables: {}

phases:
- template: /eng/common/vsts-templates/phases/os-specific.yml
  parameters:
    ${{ if eq(parameters.OfficialBuildId, '') }}:
      variables:
        InternalArgs: ''
        ${{ insert }}: ${{ parameters.variables }}
    ${{ if not(eq(parameters.OfficialBuildId, '')) }}:
      variables:
        InternalArgs: /p:PB_PublishBlobFeedKey=$(dotnetfeed-storage-access-key-1)
          /p:PB_PublishBlobFeedUrl=$(_PublishBlobFeedUrl)
          /p:PB_PublishType=$(publishType)
          /p:SignType=$(_SignType)
        ${{ insert }}: ${{ parameters.variables }}
    agentOs: ${{ parameters.agentOs }}
    OfficialBuildId: ${{ parameters.OfficialBuildId }}
    queue: ${{ parameters.queue }}
    steps: ${{ parameters.steps }}
